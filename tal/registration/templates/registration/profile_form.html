{% extends 'core/base.html' %}
{% load static %}
{% block title %}Perfil{% endblock %}
{% block content %}
<style>
  input:invalid {
    border: 2px dashed red;
  }
  
  input:valid {
    border: 2px solid black;
  }
</style>

<div class="container">
  {% if 'ok' in request.GET %}
    <p style="text-align: center; color: green;">Se actualizo tus datos.</p>
  {% endif %}
  <div class="row mt-3">
    <div class="col-md-9 mx-auto mb-5">
      <form action="" method="post" enctype="multipart/form-data">{% csrf_token %}
        <div class="row">
          <!-- Previa del avatar -->
          <div class="col-md-2">
            {% if request.user.profile.avatar %}
            <img src="{{request.user.profile.avatar.url}}" class="img-fluid">
            <p class="mt-1">¿Borrar? <input type="checkbox" id="avatar-clear" name="avatar-clear" /></p>
            {% else %}
            <img src="{% static 'registration/img/no-avatar.jpg' %}" class="img-fluid">
            {% endif %}
          </div>
          <!-- Formulario -->
          <div class="col-md-10">
            <h3>Perfil</h3>
            <input type="file" name="avatar" class="form-control-file mt-3" id="id_avatar">



            <br>
            <h5>Resumen<h5>
                {{ form.bio }}
                <h5>Redes sociales<h5>
                    {{ form.link }}
                    <h5>Nombre<h5>
                        {{ form.nombre }}
                        <h5>Apellido<h5>
                            {{ form.apellido }}
                            <h5>Cumpleaños<h5>
                                {{ form.birthday }}
                                <h5>Telefono<h5>
                                    {{ form.telefono }}
                                    <h5>Calle<h5>
                                        {{ form.calle }}
                                        <h5>Número<h5>
                                            {{ form.numero }}
                                            <h5>Colonia<h5>
                                                {{ form.colonia }}
                                                <h5>C.P<h5>
                                                    {{ form.cp }}
                                                    <input type="email" value="{{request.user.email}}"
                                                      class="form-control mt-3" readonly>
                                                    <p class="mt-3">
                                                      Si deseas editar tu email haz clic <a
                                                        href="{% url 'profile_email' %}">aquí</a>.<br>
                                                      Y si quieres cambiar tu contraseña haz clic <a
                                                        href="{% url 'password_change' %}">aquí</a>.
                                                    </p>
                                                    <input type="submit" class="btn btn-primary btn-block mt-3"
                                                      value="Actualizar">
                                                    <br><br>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
{% endblock %}